{"_id":{"$id":"51feb422560e7051629daa42"},"date":"2011-05-01 13:19:26","content":"The latest version of minecraft has been extremely unstable for me, so I've written this quick script to automatically check if minecraft is running - and reboot it within 30 seconds if it isn't. You will need php installed for this script to work.\r\n\r\n<ol>\r\n<li>Install php on the minecraft server.<\/li>\r\n<li>Save this code to a file named \"rebootCheck.php\"\r\n<code>\r\n&lt;?php \r\n\/\/options\r\n$url  = 'localhost';\/\/localhost or an ip address\r\n$port = 25565;\/\/25565 is minecrafts default port\r\n$pauseLength = 20;\/\/time between killing minecraft and booting it again\r\n\/\/end options\r\n\r\n$fp = @pfsockopen($url, $port); \r\nif (!$fp) {\r\n &nbsp; echo 'SERVER DOWN! Rebooting it.',\"\\r\\n\";\r\n &nbsp; \/\/kill anything with javaw.exe in the name\r\n &nbsp; `Taskkill \/IM javaw.exe`;\r\n &nbsp; \/\/take a nap, while minecraft shutsdown\r\n &nbsp; sleep($pauseLength);\r\n &nbsp; \/\/boot minecraft\r\n &nbsp; `C:\\Users\\user\\Desktop\\minecraft alpha\\Minecraft_Server.exe`;\r\n} else { \r\n &nbsp; echo 'SERVER UP :)';\r\n}\r\n?>\r\n<\/code>\r\n<\/li>\r\n<li>\r\nAdd a scheduled task to run every 5 minutes and run the following command. Notice here that I have put php within the minecraft directory, you may not have php there and may need to adjust the directory accordingly.\r\n\"C:\\servers\\minecraft alpha\\php\\php.exe\" \"C:\\servers\\minecraft alpha\\php\\scripts\\check.php\"\r\n<\/li>","title":"Automatically reboot minecraft on crashes","status":"publish","name":"autmatically-reboot-minecraft-on-crashes","type":"","tags":["PHP","Minecraft"],"categories":["Code"],"comments":[{"author":"Craig","authorEmail":"farnestv@googlemail.com","authorURL":"","authorIP":"217.44.122.156","timestamp":"2011-07-18 15:45:36","timestampGMT":"2011-07-18 14:45:36","comment":"How could this be adapted for Linux? Since theres no exe, just the java file itself","browser":"Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/534.30 (KHTML, like Gecko) Chrome\/12.0.742.122 Safari\/534.30"},{"author":"Minecraft Cheats","authorEmail":"talzmag@googlemail.com","authorURL":"http:\/\/minecraftcheatshacks.com\/","authorIP":"82.9.17.109","timestamp":"2011-07-19 18:41:14","timestampGMT":"2011-07-19 17:41:14","comment":"I used something similar to this a while ago, now there's a Bukkit mod that does something similar but it never hurts to have two checks in case the mod falls through.","browser":"Mozilla\/5.0 (Windows NT 6.1) AppleWebKit\/534.30 (KHTML, like Gecko) Chrome\/12.0.742.122 Safari\/534.30"},{"author":"Matthew Dellarso","authorEmail":"fatguy1121@gmail.com","authorURL":"","authorIP":"98.148.132.115","timestamp":"2011-08-11 19:47:08","timestampGMT":"2011-08-11 18:47:08","comment":"I really need help on using this, for some reason it wont run my start.exe after checking if the server is online. It either says that there was a timeout on executing line 15 (Which is where the address is for the exe). or does nothing and displays server restarting. Any help would be greatly appreciated.","browser":"Mozilla\/5.0 (Windows NT 6.1; WOW64) AppleWebKit\/535.1 (KHTML, like Gecko) Chrome\/13.0.782.112 Safari\/535.1"}]}